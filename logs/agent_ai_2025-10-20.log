2025-10-20 20:05:24 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:05:24 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:05:30 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:05:30 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:05:30 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:05:31 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:05:31 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:05:31 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:05:36 - AgentAI - INFO - log.py:131 - API Call - GET /login, Status: 200
2025-10-20 20:05:43 - AgentAI - INFO - log.py:76 - 用户登录尝试 - 用户名: admin
2025-10-20 20:05:43 - AgentAI - INFO - log.py:76 - 用户登录成功 - 用户名: admin, 用户ID: 1
2025-10-20 20:05:43 - AgentAI - INFO - log.py:106 - User Action - User: admin, Action: login, Details: 登录成功
2025-10-20 20:05:43 - AgentAI - INFO - log.py:131 - API Call - POST /login, Status: 302, User: admin
2025-10-20 20:05:43 - AgentAI - INFO - log.py:76 - 用户登录成功 - 用户ID: 1, 用户名: admin
2025-10-20 20:05:44 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 0
2025-10-20 20:05:44 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.124807357788086ms
2025-10-20 20:05:55 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-plus, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:05:55 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:05:55 - AgentAI - INFO - log.py:76 - ReactAgent初始化完成，加载工具数量: 6
2025-10-20 20:05:55 - AgentAI - INFO - log.py:76 - 开始处理用户查询: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 20:05:55 - AgentAI - INFO - log.py:76 - 开始创建执行计划，用户输入: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 20:06:12 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 336 字符
2025-10-20 20:06:14 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 154 字符
2025-10-20 20:06:14 - AgentAI - INFO - log.py:76 - 执行工具: add, 参数: {'a': 7, 'b': 8}
2025-10-20 20:06:14 - AgentAI - INFO - log.py:76 - 工具执行成功: add
2025-10-20 20:06:14 - AgentAI - ERROR - log.py:84 - 调用工具执行错误: 执行错误: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 20:06:14 - AgentAI - ERROR - log.py:92 - 工具调用异常
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\agent.py", line 356, in process_query
    tool_info = db.get_function_tool_by_name(tool_name)
TypeError: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 20:06:15 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 185 字符
2025-10-20 20:06:15 - AgentAI - INFO - log.py:76 - 执行工具: multiply, 参数: {'a': 15, 'b': 90}
2025-10-20 20:06:15 - AgentAI - INFO - log.py:76 - 工具执行成功: multiply
2025-10-20 20:06:15 - AgentAI - ERROR - log.py:84 - 调用工具执行错误: 执行错误: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 20:06:15 - AgentAI - ERROR - log.py:92 - 工具调用异常
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\agent.py", line 356, in process_query
    tool_info = db.get_function_tool_by_name(tool_name)
TypeError: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 20:06:16 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 58 字符
2025-10-20 20:06:16 - AgentAI - INFO - log.py:76 - 用户查询处理完成
2025-10-20 20:06:16 - AgentAI - INFO - log.py:150 - Database - Operation: insert, Table: chat_records, Status: success, Details: 用户ID: 1, 会话ID: default
2025-10-20 20:06:16 - AgentAI - INFO - log.py:131 - API Call - POST /api/chat, Status: 200, User: 1, Response Time: 21143.221855163574ms
2025-10-20 20:36:33 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:36:33 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: add, 工具ID: 1, 用户ID: 0, 工具类型: 通用
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: subtract, 工具ID: 2, 用户ID: 0, 工具类型: 通用
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: multiply, 工具ID: 3, 用户ID: 0, 工具类型: 通用
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: divide, 工具ID: 4, 用户ID: 0, 工具类型: 通用
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: search, 工具ID: 5, 用户ID: 0, 工具类型: 通用
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: hana, 工具ID: 6, 用户ID: 0, 工具类型: 通用
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:36:33 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:36:34 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:36:34 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:36:34 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:36:38 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 0
2025-10-20 20:36:38 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.696773529052734ms
2025-10-20 20:37:31 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:37:31 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:37:31 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:37:31 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:37:31 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:37:31 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:37:31 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:37:32 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:37:32 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:37:32 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:38:11 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:38:11 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 add 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 subtract 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 multiply 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 divide 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 search 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 hana 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:38:11 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:38:11 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 add 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 subtract 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 multiply 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 divide 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 search 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - ERROR - log.py:92 - 添加函数工具 hana 时出错: Error binding parameter 10: type 'method' is not supported
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Error binding parameter 10: type 'method' is not supported
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:38:11 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:38:12 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:38:12 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:38:12 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:39:22 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:39:22 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: add, 工具ID: 1, 用户ID: 0, 工具类型: 通用
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: subtract, 工具ID: 2, 用户ID: 0, 工具类型: 通用
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: multiply, 工具ID: 3, 用户ID: 0, 工具类型: 通用
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: divide, 工具ID: 4, 用户ID: 0, 工具类型: 通用
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: search, 工具ID: 5, 用户ID: 0, 工具类型: 通用
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: hana, 工具ID: 6, 用户ID: 0, 工具类型: 通用
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:39:22 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:39:35 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:39:35 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:39:35 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:40:43 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:40:43 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:40:43 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:40:43 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:40:43 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:40:43 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:40:43 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:40:44 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:40:44 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:40:44 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:41:18 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:41:19 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:41:19 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:41:19 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:41:19 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:41:20 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:41:20 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:41:20 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 20:41:38 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 20:41:38 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 20:41:38 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 20:41:38 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 20:41:38 - AgentAI - INFO - log.py:76 - 开始初始化默认工具实例...
2025-10-20 20:41:38 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 20:41:38 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 20:41:39 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 20:41:39 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 20:41:39 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:12:12 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:12:12 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:12:12 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:12:12 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:13:40 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:13:40 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 用户注册成功 - 用户名: admin, 用户ID: 1
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: add, 工具ID: 1, 用户ID: 0, 工具类型: 通用
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: subtract, 工具ID: 2, 用户ID: 0, 工具类型: 通用
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: multiply, 工具ID: 3, 用户ID: 0, 工具类型: 通用
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: divide, 工具ID: 4, 用户ID: 0, 工具类型: 通用
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: search, 工具ID: 5, 用户ID: 0, 工具类型: 通用
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: search_hana, 工具ID: 6, 用户ID: 0, 工具类型: 通用
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:13:40 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:13:41 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:13:41 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:13:41 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:13:41 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:16:50 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:16:50 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:16:50 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:16:50 - AgentAI - ERROR - log.py:92 - 添加函数工具 add 时出错: UNIQUE constraint failed: function_tools.tool_name
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.IntegrityError: UNIQUE constraint failed: function_tools.tool_name
2025-10-20 21:16:50 - AgentAI - ERROR - log.py:92 - 添加函数工具 subtract 时出错: UNIQUE constraint failed: function_tools.tool_name
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.IntegrityError: UNIQUE constraint failed: function_tools.tool_name
2025-10-20 21:16:50 - AgentAI - ERROR - log.py:92 - 添加函数工具 multiply 时出错: UNIQUE constraint failed: function_tools.tool_name
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.IntegrityError: UNIQUE constraint failed: function_tools.tool_name
2025-10-20 21:16:50 - AgentAI - ERROR - log.py:92 - 添加函数工具 divide 时出错: UNIQUE constraint failed: function_tools.tool_name
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.IntegrityError: UNIQUE constraint failed: function_tools.tool_name
2025-10-20 21:16:50 - AgentAI - ERROR - log.py:92 - 添加函数工具 search 时出错: UNIQUE constraint failed: function_tools.tool_name
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.IntegrityError: UNIQUE constraint failed: function_tools.tool_name
2025-10-20 21:16:50 - AgentAI - ERROR - log.py:92 - 添加函数工具 search_hana 时出错: UNIQUE constraint failed: function_tools.tool_name
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 38, in add_function_tool
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "INSERT INTO function_tools (user_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id, tool_name, description, parameters, 1 if is_active else 0, current_time, current_time, tool_flag, label, code_content)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
sqlite3.IntegrityError: UNIQUE constraint failed: function_tools.tool_name
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:16:50 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:17:59 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:17:59 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - 用户注册成功 - 用户名: admin, 用户ID: 1
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:17:59 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: add, 工具ID: 1, 用户ID: 1, 工具类型: 通用
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: subtract, 工具ID: 2, 用户ID: 1, 工具类型: 通用
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: multiply, 工具ID: 3, 用户ID: 1, 工具类型: 通用
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: divide, 工具ID: 4, 用户ID: 1, 工具类型: 通用
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: search, 工具ID: 5, 用户ID: 1, 工具类型: 通用
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 函数工具添加成功 - 工具名称: search_hana, 工具ID: 6, 用户ID: 1, 工具类型: 通用
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:18:00 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:18:00 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:18:00 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:18:00 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:18:01 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:18:01 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:18:01 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:23:54 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:23:54 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:23:54 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:23:54 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:24:34 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:24:34 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:24:34 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:24:34 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:24:35 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:24:35 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:24:35 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:24:35 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:28:30 - AgentAI - INFO - log.py:131 - API Call - GET /login, Status: 200
2025-10-20 21:28:38 - AgentAI - INFO - log.py:76 - 用户登录尝试 - 用户名: admin
2025-10-20 21:28:38 - AgentAI - INFO - log.py:76 - 用户登录成功 - 用户名: admin, 用户ID: 1
2025-10-20 21:28:38 - AgentAI - INFO - log.py:106 - User Action - User: admin, Action: login, Details: 登录成功
2025-10-20 21:28:38 - AgentAI - INFO - log.py:131 - API Call - POST /login, Status: 302, User: admin
2025-10-20 21:28:38 - AgentAI - INFO - log.py:76 - 用户登录成功 - 用户ID: 1, 用户名: admin
2025-10-20 21:28:38 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:28:38 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 4.920721054077148ms
2025-10-20 21:33:09 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:33:09 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:33:09 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:33:09 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:33:09 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:33:09 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:33:09 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:35:04 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:35:04 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:35:04 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:35:04 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:35:05 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:35:05 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:35:05 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:35:05 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:35:09 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:35:09 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.400657653808594ms
2025-10-20 21:35:18 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:35:18 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.770444869995117ms
2025-10-20 21:35:34 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:35:34 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 4.871606826782227ms
2025-10-20 21:40:27 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:40:27 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:40:27 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:40:27 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:40:27 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:40:27 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:40:27 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:40:28 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:40:28 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:40:28 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:40:44 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:40:44 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:40:44 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:40:44 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:40:45 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:40:45 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:40:45 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:40:45 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:42:32 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:42:32 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:42:32 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:42:32 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:42:32 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:42:32 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:42:32 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:42:33 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:42:33 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:42:33 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:42:33 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:42:33 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:42:38 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:42:38 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.522966384887695ms
2025-10-20 21:42:41 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:42:41 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.378246307373047ms
2025-10-20 21:42:45 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:42:45 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 6.191253662109375ms
2025-10-20 21:43:50 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:43:50 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:43:50 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:43:50 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:43:50 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:43:50 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:43:50 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:44:01 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:44:01 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.523443222045898ms
2025-10-20 21:44:09 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:44:09 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 4.988908767700195ms
2025-10-20 21:45:15 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:45:15 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:45:15 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:45:15 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:45:16 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:45:16 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:45:16 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:45:16 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:45:23 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:45:23 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.29026985168457ms
2025-10-20 21:46:20 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:46:20 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:46:20 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:46:20 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:46:20 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:46:20 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:46:20 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:46:21 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:46:21 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:46:21 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:46:30 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:46:30 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.083799362182617ms
2025-10-20 21:48:13 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:48:13 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.019903182983398ms
2025-10-20 21:48:32 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:48:32 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 4.922151565551758ms
2025-10-20 21:49:46 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:49:46 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.273342132568359ms
2025-10-20 21:51:59 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:51:59 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:51:59 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:51:59 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:52:00 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:52:00 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:52:00 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:52:00 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:52:04 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:52:04 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.072116851806641ms
2025-10-20 21:52:08 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:52:08 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.254268646240234ms
2025-10-20 21:53:18 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:53:18 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 6.344318389892578ms
2025-10-20 21:54:37 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 21:54:37 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 21:54:37 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 21:54:37 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 21:55:05 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 21:55:05 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.089044570922852ms
2025-10-20 21:55:06 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:11:50 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:11:50 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:11:50 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:11:50 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:11:51 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:11:51 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:11:51 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:11:51 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:11:59 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:11:59 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.096435546875ms
2025-10-20 22:12:00 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:12:02 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:12:02 - AgentAI - INFO - log.py:76 - ReactAgent初始化完成，加载工具数量: 0
2025-10-20 22:12:02 - AgentAI - INFO - log.py:76 - 开始处理用户查询: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 22:12:02 - AgentAI - INFO - log.py:76 - 开始创建执行计划，用户输入: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 22:12:03 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 93 字符
2025-10-20 22:12:04 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 50 字符
2025-10-20 22:12:04 - AgentAI - INFO - log.py:76 - 用户查询处理完成
2025-10-20 22:12:04 - AgentAI - INFO - log.py:150 - Database - Operation: insert, Table: chat_records, Status: success, Details: 用户ID: 1, 会话ID: default
2025-10-20 22:12:04 - AgentAI - INFO - log.py:131 - API Call - POST /api/chat, Status: 200, User: 1, Response Time: 1530.4687023162842ms
2025-10-20 22:16:44 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:16:44 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:16:44 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:16:44 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:16:45 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:16:45 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:16:45 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:17:11 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:17:11 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:17:11 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:17:11 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:17:12 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:17:12 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:17:12 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:25:01 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:25:01 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:25:01 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:25:01 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:25:02 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:25:02 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:25:02 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:25:02 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:25:26 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:25:26 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.580663681030273ms
2025-10-20 22:25:27 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:26:10 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:26:10 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:26:10 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:26:10 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:26:11 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:26:11 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:26:11 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:26:11 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:29:15 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:29:15 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:29:15 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:29:15 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:29:15 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:29:15 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:29:15 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:29:19 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:29:19 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 4.993677139282227ms
2025-10-20 22:29:20 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:29:25 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:29:25 - AgentAI - INFO - log.py:76 - ReactAgent初始化完成，加载工具数量: 6
2025-10-20 22:29:25 - AgentAI - INFO - log.py:76 - 开始处理用户查询: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 22:29:25 - AgentAI - INFO - log.py:76 - 开始创建执行计划，用户输入: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 22:29:28 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 448 字符
2025-10-20 22:29:29 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 59 字符
2025-10-20 22:29:29 - AgentAI - INFO - log.py:76 - 用户查询处理完成
2025-10-20 22:29:29 - AgentAI - INFO - log.py:150 - Database - Operation: insert, Table: chat_records, Status: success, Details: 用户ID: 1, 会话ID: default
2025-10-20 22:29:29 - AgentAI - INFO - log.py:131 - API Call - POST /api/chat, Status: 200, User: 1, Response Time: 3719.935178756714ms
2025-10-20 22:30:32 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:30:32 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:30:32 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:30:32 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:30:33 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:30:33 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:30:33 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:30:33 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:30:34 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:30:34 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:30:34 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:30:38 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:30:38 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.201101303100586ms
2025-10-20 22:30:39 - AgentAI - ERROR - log.py:92 - 获取函数工具列表时出错: Recursive use of cursors not allowed.
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\db\function_tool_manager.py", line 64, in get_all_function_tools
    self.cursor.execute(
    ~~~~~~~~~~~~~~~~~~~^
        "SELECT tool_id, tool_name, description, parameters, is_active, create_time, update_time, tool_flag, label, code_content FROM function_tools WHERE user_id = ? ORDER BY tool_id",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    )
    ^
sqlite3.ProgrammingError: Recursive use of cursors not allowed.
2025-10-20 22:30:44 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:30:44 - AgentAI - INFO - log.py:76 - ReactAgent初始化完成，加载工具数量: 6
2025-10-20 22:30:44 - AgentAI - INFO - log.py:76 - 开始处理用户查询: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 22:30:44 - AgentAI - INFO - log.py:76 - 开始创建执行计划，用户输入: 计算7+8的结果，然后把结果乘90，最终结果是多少
2025-10-20 22:30:57 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 327 字符
2025-10-20 22:30:59 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 162 字符
2025-10-20 22:30:59 - AgentAI - INFO - log.py:76 - 执行工具: add, 参数: {'a': 7, 'b': 8}
2025-10-20 22:30:59 - AgentAI - INFO - log.py:76 - 工具执行成功: add
2025-10-20 22:30:59 - AgentAI - ERROR - log.py:84 - 调用工具执行错误: 执行错误: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 22:30:59 - AgentAI - ERROR - log.py:92 - 工具调用异常
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\agent.py", line 356, in process_query
    tool_info = db.get_function_tool_by_name(tool_name)
TypeError: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 22:31:00 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 185 字符
2025-10-20 22:31:00 - AgentAI - INFO - log.py:76 - 执行工具: multiply, 参数: {'a': 15, 'b': 90}
2025-10-20 22:31:00 - AgentAI - INFO - log.py:76 - 工具执行成功: multiply
2025-10-20 22:31:00 - AgentAI - ERROR - log.py:84 - 调用工具执行错误: 执行错误: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 22:31:00 - AgentAI - ERROR - log.py:92 - 工具调用异常
Traceback (most recent call last):
  File "c:\Users\MM\Desktop\agentAI_new_v1\agent.py", line 356, in process_query
    tool_info = db.get_function_tool_by_name(tool_name)
TypeError: ChatDatabase.get_function_tool_by_name() missing 1 required positional argument: 'tool_name'
2025-10-20 22:31:01 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 32 字符
2025-10-20 22:31:01 - AgentAI - INFO - log.py:76 - 用户查询处理完成
2025-10-20 22:31:01 - AgentAI - INFO - log.py:150 - Database - Operation: insert, Table: chat_records, Status: success, Details: 用户ID: 1, 会话ID: default
2025-10-20 22:31:01 - AgentAI - INFO - log.py:131 - API Call - POST /api/chat, Status: 200, User: 1, Response Time: 17155.919551849365ms
2025-10-20 22:39:55 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:39:55 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:39:55 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:39:55 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:39:56 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:39:56 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:39:56 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:40:41 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:40:41 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:40:41 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:40:41 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:47:38 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:47:38 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:47:38 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:47:38 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:48:17 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:48:17 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:48:17 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:48:17 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
2025-10-20 22:48:20 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:48:20 - AgentAI - INFO - log.py:131 - API Call - GET /, Status: 200, User: 1, Response Time: 5.611658096313477ms
2025-10-20 22:48:20 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:48:30 - AgentAI - INFO - log.py:76 - 成功获取函数工具列表 - 工具数: 6
2025-10-20 22:48:30 - AgentAI - INFO - log.py:76 - ReactAgent初始化完成，加载工具数量: 6
2025-10-20 22:48:30 - AgentAI - INFO - log.py:76 - 开始处理用户查询: 计算7+8的结果，然后把结果乘33，最终结果是多少
2025-10-20 22:48:30 - AgentAI - INFO - log.py:76 - 开始创建执行计划，用户输入: 计算7+8的结果，然后把结果乘33，最终结果是多少
2025-10-20 22:48:44 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 330 字符
2025-10-20 22:48:45 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 164 字符
2025-10-20 22:48:45 - AgentAI - INFO - log.py:76 - 执行工具: add, 参数: {'a': 7, 'b': 8}
2025-10-20 22:48:45 - AgentAI - INFO - log.py:76 - 工具执行成功: add
2025-10-20 22:48:46 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 181 字符
2025-10-20 22:48:46 - AgentAI - INFO - log.py:76 - 执行工具: multiply, 参数: {'a': 15, 'b': 33}
2025-10-20 22:48:46 - AgentAI - INFO - log.py:76 - 工具执行成功: multiply
2025-10-20 22:48:47 - AgentAI - INFO - log.py:76 - 聊天请求成功完成，响应长度: 41 字符
2025-10-20 22:48:47 - AgentAI - INFO - log.py:76 - 用户查询处理完成
2025-10-20 22:48:47 - AgentAI - INFO - log.py:150 - Database - Operation: insert, Table: chat_records, Status: success, Details: 用户ID: 1, 会话ID: default
2025-10-20 22:48:47 - AgentAI - INFO - log.py:131 - API Call - POST /api/chat, Status: 200, User: 1, Response Time: 16499.22466278076ms
2025-10-20 22:52:35 - AgentAI - INFO - log.py:156 - Logger initialized successfully
2025-10-20 22:52:35 - AgentAI - INFO - database.py:31 - Database initialized successfully
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - Flask应用初始化完成
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - 启动Flask应用服务...
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - 开始自动注册admin
2025-10-20 22:52:35 - AgentAI - WARNING - log.py:80 - 用户注册失败 - 用户名 admin 已存在
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - admin用户注册成功
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - 开始自动注册内部工具
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - 6个内部工具添加完成
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - 初始化LLM客户端，模型: qwen-flash, URL: https://dashscope.aliyuncs.com/compatible-mode/v1, 超时设置: 30秒
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - LLM客户端初始化成功
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - LLM实例初始化成功
2025-10-20 22:52:35 - AgentAI - INFO - log.py:76 - Flask应用服务启动完成，监听地址: 0.0.0.0:5000
